# new, delete

### Общая форма оператора new.

У оператора ```new``` есть несколько версий. Стандартная выглядит вот так:
```
T* p = new T(x, y, z); // i.e. some args
```

В таком виде он выделяет память в куче(запрашивает у операционной системы память, а именно столько её, сколько нужно для хранения одного объекта типа ```T```(по факту это ```sizeof(T)```)), вызызывает конструктор этого типа от аргументов на той памяти, которую дали, и возвращает указатель на эту самую память.

А что ещё может делать оператор ```new``` кроме этого?

На самом деле у него есть ещё другие синтаксические формы.

Наиболее полезной после стандартной является ```placement new```.

Чтобы понять, что это такое, давайте обратимся к примеру ```std::vector```.
Каким образом в нём работает ```push_back```? 

Пусть к нам приходит новый элемент и у нас переполняется буфер. Мы перевыделяем в 2(или в какое-то C раз больше памяти), перемещаем уже имеющиеся элементы и конструируем на новом месте новый элемент. А что значит это "конструируем на новом месте новый элемент"? Т.е. по факту нам по указателю нового элемента нужно вызвать конструктор. 

Для этого существует другая форма оператора ```new``` - ```placement new```.
